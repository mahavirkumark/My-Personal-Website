<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Task Calendar</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<!-- jsPDF & autoTable -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<style>
  body { font-family: Arial, sans-serif; background-color: #f3f4f6; margin:0; }
  nav a { text-decoration:none; color:black; font-size:17px; padding:5px; }
  nav a:hover { text-decoration:none; font-size:17px; padding:5px; }
  .calendar-cell { min-height: 80px; padding:0.5rem; border-radius:0.5rem; border:1px solid #d1d5db; background:#fff; cursor:pointer; }
  .calendar-cell:hover { background:#e5e7eb; }
  .today { border: 2px solid #3b82f6; }
  .sunday { background-color:#f97316; color:#fff; }
  .sunday:hover { background-color:#2563eb; }
  #existingTasks { overflow-y:auto; }
  #existingTasks::-webkit-scrollbar { width:8px; }
  #existingTasks::-webkit-scrollbar-thumb { background:#bbb; border-radius:4px; }
  #existingTasks::-webkit-scrollbar-thumb:hover { background:#888; }

  body { font-family: Arial, sans-serif; background-color: #f3f4f6; margin:0; }
  nav a { text-decoration:none; color:black; font-size:17px; padding:5px; }
  nav a:hover { text-decoration:none; font-size:17px; padding:5px; }
  .calendar-cell { min-height: 80px;min-width: 100px; padding:0.5rem; border-radius:0.5rem; border:1px solid #d1d5db; background:#fff; cursor:pointer; }
  .calendar-cell:hover { background:#e5e7eb; }
  .today { border: 2px solid #3b82f6; }
  .sunday { background-color:#f97316; color:#fff; }
  .sunday:hover { background-color:#2563eb; }
  #existingTasks { overflow-y:auto; }
  #existingTasks::-webkit-scrollbar { width:8px; }
  #existingTasks::-webkit-scrollbar-thumb { background:#bbb; border-radius:4px; }
  #existingTasks::-webkit-scrollbar-thumb:hover { background:#888; }

  /* Responsive Calendar Grid */
  #calendar { display:grid; gap:5px; }

  /* Mobile: max 2 cells per row, smaller task container */
  @media (max-width: 639px) {
    #calendar { grid-template-columns: repeat(2, 1fr); }
    #existingTasks { max-height:200px; }
  }

  /* Tablet: 4 cells per row */
  @media (min-width: 640px) and (max-width:1023px) {
    #calendar { grid-template-columns: repeat(4, 1fr); gap:6px; }
    #existingTasks { max-height:300px; }
  }

  /* Laptop & Desktop: 7 cells per row, wider width */
  @media (min-width: 1524px) {
    #calendar { grid-template-columns: repeat(7, 1fr); gap:10px; max-width:1600px; margin:auto; }
    #existingTasks { max-height:500px; }
  }
</style>

</head>
<body class="bg-gray-50">

<!-- NAVBAR -->
<nav class="bg-white shadow-md fixed w-full z-50">
  <div class="container mx-auto flex justify-between items-center p-4 md:px-8">
    <div class="flex items-center gap-2 text-xl font-bold text-black">
      <i class="fas fa-user"></i> My Personal Website
    </div>

    <!-- Desktop Links -->
    <div class="hidden md:flex space-x-6">
      <a href="home.html" class="flex items-center gap-2"><i class="fas fa-house"></i> Home</a>
      <a href="adress.html" class="flex items-center gap-2"><i class="fas fa-tasks"></i> Address</a>
      <a href="password.html" class="flex items-center gap-2"><i class="fas fa-key"></i> Passwords</a>
      <a href="income.html" class="flex items-center gap-2"><i class="fas fa-wallet"></i> Income</a>
      <a href="links.html" class="flex items-center gap-2"><i class="fas fa-link"></i> Links</a>
      <a href="calender.html" class="flex items-center gap-2"><i class="fas fa-calendar-alt"></i> Calendar</a>
    </div>

    <!-- Desktop User Info -->
    <div class="hidden md:flex items-center gap-4">
      <div class="text-right">
        <p id="userName" class="font-medium text-gray-800">User Name</p>
        <p id="userEmail" class="text-sm text-gray-600">user@example.com</p>
      </div>
      <img id="userPhoto" src="https://via.placeholder.com/40" class="w-10 h-10 rounded-full">
      <button onclick="logout()" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm">Logout</button>
    </div>

    <!-- Mobile Menu Button -->
    <button id="menu-btn" class="md:hidden text-gray-700 text-2xl"><i class="fas fa-bars"></i></button>
  </div>

  <!-- Mobile Links -->
  <div id="mobileMenu" class="hidden md:hidden flex flex-col px-4 pb-4 space-y-2 text-sm">
    <a href="home.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-100"><i class="fas fa-house"></i> Home</a>
    <a href="adress.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-100"><i class="fas fa-tasks"></i> Address</a>
    <a href="password.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-100"><i class="fas fa-key"></i> Passwords</a>
    <a href="income.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-100"><i class="fas fa-wallet"></i> Income</a>
    <a href="links.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-100"><i class="fas fa-link"></i> Links</a>
    <a href="calender.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-100"><i class="fas fa-calendar-alt"></i> Calendar</a>
    <div class="border-t border-gray-200 mt-2 pt-2">
      <p id="mobileUserName" class="font-medium text-gray-800">User Name</p>
      <p id="mobileUserEmail" class="text-xs text-gray-500">user@example.com</p>
      <button onclick="logout()" class="bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 mt-2 w-full">Logout</button>
    </div>
  </div>
</nav>

<!-- MAIN -->
<main class="pt-24 px-1 md:px-1 flex flex-col gap-2 max-w-6xl mx-auto">

  <!-- Search & Download -->
<div class="flex flex-col md:flex-row justify-between items-center gap-1 md:gap-2">
    <input type="text" id="searchInput" placeholder="Search tasks..."
      class="flex-1 p-3 rounded-full border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition text-sm"
      oninput="searchTasks()">
    <button id="downloadMonthTasks"
      class="mt-2 md:mt-0 px-4 py-2 bg-emerald-600 text-white rounded-lg shadow-md hover:bg-emerald-700 transition">Download
      Month Tasks</button>
  </div>
 <div id="searchResults" class="mt-1"></div>

<script>
  // Select button and mobile menu
const menuBtn = document.getElementById("menu-btn");
const mobileMenu = document.getElementById("mobileMenu");

// Toggle menu on click
menuBtn.addEventListener("click", () => {
  mobileMenu.classList.toggle("hidden"); // show/hide menu
});

</script>






  <!-- Calendar Navigation -->
  <div class="flex justify-between items-center mb-2">
    <button onclick="changeMonth(-1)" class="px-3 py-1 border rounded hover:bg-gray-100">← Prev</button>
    <h2 id="monthYear" class="text-lg font-semibold text-center flex-1">Month Year</h2>
    <button onclick="changeMonth(1)" class="px-3 py-1 border rounded hover:bg-gray-100">Next →</button>
  </div>

  <!-- Calendar -->
  <div id="calendar"></div>
</main>

<!-- Overlay -->
<div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 hidden z-40"></div>

<!-- Modal -->
<div id="taskModal" class="fixed bg-white shadow-2xl p-6 rounded-xl w-11/12 md:w-3/4 max-w-4xl z-50 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 hidden">
  
  <!-- Modal Header -->
  <div class="flex justify-between items-center mb-5">
    <h2 id="modalDate" class="text-lg md:text-xl font-semibold">Tasks for date</h2>
    <button id="closeModal" 
            class="text-gray-500 hover:text-red-500 text-2xl md:text-3xl font-bold transition duration-200">&times;</button>
  </div>

  <!-- Modal Body -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    
    <!-- Add/Edit Task -->
    <div>
      <input id="taskTitle" type="text" placeholder="Title" 
             class="border border-gray-300 rounded-lg p-3 w-full mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200">
      <textarea id="taskDesc" placeholder="Description" 
                class="border border-gray-300 rounded-lg p-3 w-full mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"></textarea>
      <div class="flex gap-3">
        <button id="saveTaskBtn" 
                class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-700 transition duration-200 font-medium">
          Save
        </button>
        <button id="cancelTaskBtn" 
                class="flex-1 bg-gray-400 text-white px-4 py-2 rounded-lg shadow-md hover:bg-gray-500 transition duration-200 font-medium">
          Cancel
        </button>
      </div>
    </div>

    <!-- Existing Tasks -->
    <div id="existingTasks" class="border border-gray-300 rounded-lg p-3 bg-gray-50 max-h-80 overflow-y-auto">
      <!-- Task items will be dynamically injected here -->
      <!-- Example task with modern Edit & Delete buttons:
      <div class="flex justify-between items-center p-3 mb-2 bg-white rounded-lg shadow-sm hover:bg-blue-50 transition">
        <div>
          <strong class="text-sm md:text-base font-medium">Task Title</strong>
          <p class="text-xs md:text-sm text-gray-600">Task description here</p>
        </div>
        <div class="flex gap-2">
          <button class="editBtn bg-yellow-400 text-white px-3 py-1 rounded shadow hover:bg-yellow-500 transition text-xs md:text-sm font-medium">Edit</button>
          <button class="deleteBtn bg-red-500 text-white px-3 py-1 rounded shadow hover:bg-red-600 transition text-xs md:text-sm font-medium">Delete</button>
        </div>
      </div>
      -->
    </div>

  </div>
</div>

</div>
<footer class="mt-12 pt-3 pb-3 bg-white text-gray-600 text-center text-sm border-t">
  &copy; 2025 Personal Website | All rights reserved
</footer>
<!-- Include your JS here -->
<script>
  /* Place your full JS code here exactly as provided */
</script>

</body>
</html>

 
</style>
<!-- Firebase compat libs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<!-- jsPDF + AutoTable for PDF export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>


<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<script>
// --- Scrollbar styling ---
const style = document.createElement("style");
style.innerHTML = `
  #existingTasks {

    height: 450px;
    overflow-y: auto;
    padding-right: 5px;
  }
  #existingTasks::-webkit-scrollbar {
    width: 8px;
  }
  #existingTasks::-webkit-scrollbar-thumb {
    background: #bbb;
    border-radius: 4px;
  }
  #existingTasks::-webkit-scrollbar-thumb:hover {
    background: #888;
  }
`;
document.head.appendChild(style);

// --- Firebase Config ---
const firebaseConfig = {
  apiKey: "AIzaSyB78RTVCg0cmSPp7A1RJyyAgBuCeolO0cc",
  authDomain: "sk12-58e9e.firebaseapp.com",
  databaseURL: "https://sk12-58e9e-default-rtdb.firebaseio.com",
  projectId: "sk12-58e9e",
  storageBucket: "sk12-58e9e.appspot.com",
  messagingSenderId: "608060704076",
  appId: "1:608060704076:web:c98e275ae1f449bc2a5e5f"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

// --- Global Variables ---
let currentUser = null;
let currentDate = new Date();
let selectedDate = null;
let editTaskId = null;
let todayListenerSet = false;

// --- Helper: format date DD-MM-YYYY ---
const formatDate = date => {
  const d = new Date(date);
  const day = String(d.getDate()).padStart(2, "0");
  const month = String(d.getMonth() + 1).padStart(2, "0");
  const year = d.getFullYear();
  return `${day}-${month}-${year}`;
};
const toISODate = date => new Date(date).toISOString().split("T")[0];

// --- Auth ---
auth.onAuthStateChanged(user => {
  if (user) {
    currentUser = user;
    document.getElementById("userName").textContent = user.displayName || "User";
    document.getElementById("userEmail").textContent = user.email || "";
    if (user.photoURL) document.getElementById("userPhoto").src = user.photoURL;
    renderCalendar();
    loadTodayTasks();
  } else {
    auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
  }
});

function logout() {
  auth.signOut().then(() => window.location.href = "index.html");
}

// --- Calendar ---
const changeMonth = offset => {
  currentDate.setMonth(currentDate.getMonth() + offset);
  renderCalendar();
};

const renderCalendar = () => {
  const calendar = document.getElementById("calendar");
  calendar.innerHTML = "";
  const year = currentDate.getFullYear();
  const month = currentDate.getMonth();
  const firstDay = new Date(year, month, 1);
  const startDay = (firstDay.getDay() + 6) % 7;
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  document.getElementById("monthYear").textContent =
    currentDate.toLocaleString("default", { month: "long", year: "numeric" });

  for (let i = 0; i < startDay; i++) calendar.appendChild(document.createElement("div"));

  for (let day = 1; day <= daysInMonth; day++) {
    const dateObj = new Date(year, month, day);
    const isoDate = toISODate(dateObj);
    const cell = document.createElement("div");
    cell.className = "calendar-cell";
    if (dateObj.getDay() === 0) cell.classList.add("sunday");
  cell.innerHTML = `
  <strong>${day}</strong> ${dateObj.toLocaleString('en-US', { weekday: 'short' })}
  <div id="tasks-${isoDate}" style="font-size: small; min-height: 20px;">Loading...</div>
`;

// ✅ make the whole cell clickable
cell.onclick = () => openModal(isoDate);
cell.style.cursor = "pointer";

    calendar.appendChild(cell);
    loadTasks(isoDate);
  }
};

// --- Modal ---
const openModal = dateISO => {
  selectedDate = dateISO;
  editTaskId = null;

  // Show date +1 for display
  const d = new Date(dateISO);
  const displayDay = d.getDate() + 1; // only for display
  const month = String(d.getMonth() + 1).padStart(2, "0");
  const year = d.getFullYear();
  const weekday = d.toLocaleString('en-US', { weekday: 'long' });

  document.getElementById("modalDate").textContent =
    `Tasks for ${String(displayDay).padStart(2,'0')}-${month}-${year} (${weekday})`;

  document.getElementById("taskTitle").value = "";
  document.getElementById("taskDesc").value = "";
  document.getElementById("overlay").style.display = "block";
  document.getElementById("taskModal").style.display = "block";
  loadModalTasks(dateISO);
};


const closeModal = () => {
  selectedDate = null;
  editTaskId = null;
  document.getElementById("overlay").style.display = "none";
  document.getElementById("taskModal").style.display = "none";
  document.getElementById("taskTitle").value = "";
  document.getElementById("taskDesc").value = "";
  document.getElementById("existingTasks").innerHTML = "";
};
document.getElementById("closeModal")?.addEventListener("click", closeModal);

// --- Edit / Save Task ---
const editTask = (taskId, task, date) => {
  selectedDate = date;
  editTaskId = taskId;
  document.getElementById("taskTitle").value = task.title;
  document.getElementById("taskDesc").value = task.desc || "";
  document.getElementById("taskTitle").focus();
};

const saveTask = () => {
  const title = document.getElementById("taskTitle").value.trim();
  const desc = document.getElementById("taskDesc").value.trim();
  if (!title) return alert("Enter title.");

  const taskData = { title, desc };
  const refPath = `users/${currentUser.uid}/tasks/${selectedDate}`;

  if (editTaskId) {
    db.ref(`${refPath}/${editTaskId}`).set(taskData).then(() => {
      editTaskId = null;
      document.getElementById("taskTitle").value = "";
      document.getElementById("taskDesc").value = "";
      loadModalTasks(selectedDate);
      loadTodayTasks();
    });
  } else {
    db.ref(refPath).push(taskData).then(() => {
      document.getElementById("taskTitle").value = "";
      document.getElementById("taskDesc").value = "";
      loadModalTasks(selectedDate);
      loadTodayTasks();
    });
  }
};

// --- Load Tasks ---
const loadTasks = date => {
  const container = document.getElementById(`tasks-${date}`);
  if (!container) return;
  db.ref(`users/${currentUser.uid}/tasks/${date}`).on("value", snap => {
    const data = snap.val();
    container.innerHTML = "";
    if (data) Object.values(data).forEach(task => container.innerHTML += `<div>• ${task.title}</div>`);
  });
};
const loadModalTasks = date => {
  selectedDate = date;
  const container = document.getElementById("existingTasks");
  container.innerHTML = "<p>Loading tasks...</p>";

  db.ref(`users/${currentUser.uid}/tasks/${date}`).once("value").then(snap => {
    const data = snap.val();
    container.innerHTML = "";
    if (!data) return container.textContent = "No tasks for this date.";

    Object.entries(data).forEach(([key, task]) => {
      // Task card container
      const taskDiv = document.createElement("div");
      taskDiv.className = "flex justify-between items-center p-3 mb-2 bg-white rounded-lg shadow-sm hover:bg-blue-50 transition";

      // Task info
      const infoDiv = document.createElement("div");
      infoDiv.innerHTML = `
        <strong class="text-sm md:text-base font-medium">${task.title}</strong>
        <p class="text-xs md:text-sm text-gray-600">${task.desc || ""}</p>
      `;
      taskDiv.appendChild(infoDiv);

      // Buttons container
      const btnDiv = document.createElement("div");
      btnDiv.className = "flex gap-2";

      // Edit button
      const editBtn = document.createElement("button");
      editBtn.textContent = "Edit";
      editBtn.className = "bg-yellow-400 text-white px-3 py-1 rounded shadow hover:bg-yellow-500 transition text-xs md:text-sm font-medium";
      editBtn.addEventListener("click", () => editTask(key, task, date));
      btnDiv.appendChild(editBtn);

      // Delete button
      const delBtn = document.createElement("button");
      delBtn.textContent = "Delete";
      delBtn.className = "bg-red-500 text-white px-3 py-1 rounded shadow hover:bg-red-600 transition text-xs md:text-sm font-medium";
      delBtn.addEventListener("click", () => {
        if (confirm("Delete this task?")) {
          db.ref(`users/${currentUser.uid}/tasks/${date}/${key}`).remove().then(() => {
            loadModalTasks(date);
            loadTodayTasks();
          });
        }
      });
      btnDiv.appendChild(delBtn);

      taskDiv.appendChild(btnDiv);
      container.appendChild(taskDiv);
    });
  });
};

// --- Today Tasks ---
const loadTodayTasks = () => {
  if (todayListenerSet) return;
  const todayISO = toISODate(new Date());
  const ul = document.getElementById("taskListToday");
  db.ref(`users/${currentUser.uid}/tasks/${todayISO}`).on("value", snap => {
    const data = snap.val();
    ul.innerHTML = "";
    if (data) Object.values(data).forEach(task => ul.innerHTML += `<li><strong>${task.title}</strong>: ${task.desc || ""}</li>`);
    else ul.innerHTML = "<li>No tasks today.</li>";
  });
  todayListenerSet = true;
};

// --- Search Tasks ---
let latestSearchTerm = ""; // track latest query

const searchTasks = () => {
  const term = document.getElementById("searchInput").value.trim().toLowerCase();
  const resultsContainer = document.getElementById("searchResults");
  resultsContainer.innerHTML = "";
  latestSearchTerm = term;

  // ✅ If input is empty, stop and clear results
  if (!term) {
    resultsContainer.innerHTML = "";
    return;
  }

  db.ref(`users/${currentUser.uid}/tasks`).once("value").then(snap => {
    // ✅ Prevent old async results from showing after input cleared/changed
    if (latestSearchTerm !== term) return;

    const data = snap.val();
    let found = false;

    if (data) {
      Object.entries(data).forEach(([dateISO, tasks]) => {
        Object.entries(tasks).forEach(([key, task]) => {
          if (
            task.title.toLowerCase().includes(term) ||
            (task.desc && task.desc.toLowerCase().includes(term))
          ) {
            found = true;
            const div = document.createElement("div");
            div.className = "cursor-pointer hover:bg-blue-50 transition p-2 rounded-lg";
            div.onclick = () => openModal(dateISO);
            div.innerHTML = `
              <strong>${task.title}</strong><br>
              ${task.desc || ""}<br>
              <small class="text-gray-500">${formatDate(dateISO)}</small>
            `;
            resultsContainer.appendChild(div);
          }
        });
      });
    }

    if (!found) {
      resultsContainer.innerHTML = `<div class="text-gray-500 p-2">No matching tasks found.</div>`;
    }
  });
};

// --- Download Tasks as PDF ---
document.getElementById("downloadMonthTasks").addEventListener("click", async () => {
  if (!currentUser) return alert("User not logged in.");

  const year = currentDate.getFullYear();
  const month = currentDate.getMonth(); 
  const daysInMonth = new Date(year, month + 1, 0).getDate();

  const snapshot = await db.ref(`users/${currentUser.uid}/tasks`).once("value");
  const allTasks = snapshot.val() || {};

  const pdfData = [];
  for (let day = 1; day <= daysInMonth; day++) {
    const dateObj = new Date(year, month, day);
    const isoDate = toISODate(dateObj);
    const dateStr = formatDate(dateObj);

    if (allTasks[isoDate]) {
      Object.values(allTasks[isoDate]).forEach(task => {
        pdfData.push([dateStr, task.title || "", task.desc || ""]);
      });
    }
  }

  if (!pdfData.length) return alert("No tasks for this month.");

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  doc.setFontSize(18);
  doc.text(`Tasks for ${currentDate.toLocaleString("default",{ month:"long", year:"numeric"})}`, 14, 20);

  doc.autoTable({
    startY: 30,
    head: [['Date', 'Title', 'Description']],
    body: pdfData,
    styles: { fontSize: 11, cellPadding: 5 },
    headStyles: { fillColor: [16, 185, 129], textColor: 255, fontStyle: 'bold' },
    alternateRowStyles: { fillColor: [240, 248, 255] },
    theme: 'grid'
  });

  const monthStr = String(month + 1).padStart(2, "0");
  doc.save(`Tasks_${monthStr}-${year}.pdf`);
});


  </script>

</body>
</html>














